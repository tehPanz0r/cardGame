<script>
//CardGame by Austin Bowers
	var Deck = function () {
		this.cards = [];
		this.count = function() {
			return this.cards.length;
		}
		this.init = function() {
			for (s = 1; s <= 4; s++) {
				for (r = 1; r <= 13; r++) {
					this.cards.push(new Card(r, s))
				}
			}
		}
	};

	var Card = function (rank, suit) {
		this.rank = rank
		this.suit = suit;
		this.show = function() {
			console.log(this.rank + " of " + this.suit);
		}
	};

  //Shuffler function based on Fisher-Yates shuffler
	function Shuffler (array) {
		var currentIndex = array.length;
		var temporaryValue, randomIndex;
		// While there remain elements to shuffle...
		while(0 !== currentIndex) {
			//Pick a remaining element...
			randomIndex = Math.floor(Math.random() * currentIndex);
			currentIndex -= 1;
			// And swap it with the current element;
			temporaryValue = array[currentIndex];
			array[currentIndex] = array[randomIndex];
			array[randomIndex] = temporaryValue;
		}
		return array;
	};


	function Player (name) {
		this.name = name
		this.hand = []
		this.score = 0
    this.playCard = this.hand.pop()
	};

  	function Dealer () {
  		i = d.cards.length
  		while (i > 0) {
  			popped = d.cards.pop()
  			player1.hand.push(popped)
  			i--
  			popped = d.cards.pop()
  			player2.hand.push(popped)
  			i--
  		}
  	};


  function gameStart () {
    d = new Deck ();
    d.init ();
    Shuffler(d.cards);
    //invoke Player constructor function.
    player1 = new Player (prompt("Welcome, what would you like to be called?!"));
    player2 = new Player (prompt("Welcome, what would you like to be called, number two perhaps?"));
    deal = new Dealer ();
    player1.playCard = player1.hand.pop()
    player2.playCard = player2.hand.pop()
    //Log Player card value
   console.log(player1.hand);
   console.log(player2.hand);
    //Compare Player card value
    if(player1.playCard.rank > player2.playCard.rank) {
      player1.score ++
      console.log(player1.name + " wins! With a " +player1.playCard.rank);
    } else {
      player2.score ++
      console.log(player2.name + " wins! With a " +player2.playCard.rank);
    }
  };

  gameStart();
</script>